{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "prompt-library",
  "description": "Browse, insert, and manage prompt templates with categories and custom prompts",
  "dependencies": [
    "@hugeicons/core-free-icons",
    "@hugeicons/react"
  ],
  "files": [
    {
      "path": "registry/default/ui/prompt-library.tsx",
      "content": "\"use client\";\n\nimport { LibraryIcon, PlusSignIcon } from \"@hugeicons/core-free-icons\";\nimport { HugeiconsIcon } from \"@hugeicons/react\";\nimport {\n\ttype ComponentProps,\n\tcreateContext,\n\ttype PropsWithChildren,\n\ttype ReactNode,\n\tuseCallback,\n\tuseContext,\n\tuseMemo,\n\tuseState,\n} from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n\tCommandSeparator,\n} from \"@/components/ui/command\";\nimport {\n\tDialog,\n\tDialogClose,\n\tDialogContent,\n\tDialogDescription,\n\ttype DialogDescriptionProps,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n\ttype DialogTitleProps,\n} from \"@/components/ui/dialog\";\nimport {\n\tHoverCard,\n\tHoverCardContent,\n\tHoverCardTrigger,\n} from \"@/components/ui/hover-card\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\nimport { useOptionalPromptInputController } from \"../ai-elements/prompt-input\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface Prompt {\n\t/** Unique identifier for the prompt */\n\tid: string;\n\t/** Display title for the prompt */\n\ttitle: string;\n\t/** Short description shown in the list */\n\tdescription: string;\n\t/** The actual prompt content to insert/copy */\n\tprompt: string;\n\t/** Optional category for grouping */\n\tcategory?: string;\n\t/** Whether this is a user-created prompt */\n\tisCustom?: boolean;\n}\n\nexport interface PromptLibraryContextValue {\n\t/** All available prompts */\n\tprompts: Prompt[];\n\t/** Add a custom prompt */\n\taddCustom: (prompt: Omit<Prompt, \"id\" | \"isCustom\">) => void;\n\t/** Remove a custom prompt */\n\tremoveCustom: (id: string) => void;\n\t/** Select a prompt (insert or copy) */\n\tselectPrompt: (prompt: Prompt) => void;\n\t/** Last selected prompt ID */\n\tlastSelectedId: string | null;\n\t/** Open state for the popover */\n\topen: boolean;\n\t/** Set open state for the popover */\n\tsetOpen: (open: boolean) => void;\n\t/** Open state for the create dialog */\n\tcreateDialogOpen: boolean;\n\t/** Set open state for the create dialog */\n\tsetCreateDialogOpen: (open: boolean) => void;\n}\n\n// ============================================================================\n// Context\n// ============================================================================\n\nconst PromptLibraryContext = createContext<PromptLibraryContextValue | null>(\n\tnull,\n);\n\n/**\n * Hook to access the PromptLibrary context\n * @throws Error if used outside of PromptLibrary provider\n */\nexport const usePromptLibrary = () => {\n\tconst ctx = useContext(PromptLibraryContext);\n\tif (!ctx) {\n\t\tthrow new Error(\n\t\t\t\"usePromptLibrary must be used within a PromptLibrary provider\",\n\t\t);\n\t}\n\treturn ctx;\n};\n\n// ============================================================================\n// Controllable State Hook\n// ============================================================================\n\nfunction useControllableState<T>(\n\tcontrolledValue: T | undefined,\n\tdefaultValue: T,\n\tonChange?: (value: T) => void,\n): [T, (value: T | ((prev: T) => T)) => void] {\n\tconst [uncontrolledValue, setUncontrolledValue] = useState(defaultValue);\n\tconst isControlled = controlledValue !== undefined;\n\tconst value = isControlled ? controlledValue : uncontrolledValue;\n\n\tconst setValue = useCallback(\n\t\t(nextValue: T | ((prev: T) => T)) => {\n\t\t\tconst resolvedValue =\n\t\t\t\ttypeof nextValue === \"function\"\n\t\t\t\t\t? (nextValue as (prev: T) => T)(value)\n\t\t\t\t\t: nextValue;\n\n\t\t\tif (!isControlled) {\n\t\t\t\tsetUncontrolledValue(resolvedValue);\n\t\t\t}\n\t\t\tonChange?.(resolvedValue);\n\t\t},\n\t\t[isControlled, onChange, value],\n\t);\n\n\treturn [value, setValue];\n}\n\n// ============================================================================\n// Root Component\n// ============================================================================\n\nexport type PromptLibraryProps = PropsWithChildren<{\n\t/** Initial set of prompts */\n\tprompts?: Prompt[];\n\t/** Callback when prompts change (for custom prompts) */\n\tonPromptsChange?: (prompts: Prompt[]) => void;\n\t/** Callback when a prompt is selected */\n\tonSelect?: (prompt: Prompt) => void;\n\t/** Controlled open state for popover */\n\topen?: boolean;\n\t/** Callback when open state changes */\n\tonOpenChange?: (open: boolean) => void;\n}>;\n\n/**\n * Root component for the PromptLibrary widget.\n * Provides context for all child components.\n * Integrates with PromptInput when used inside PromptInputProvider.\n */\nexport function PromptLibrary({\n\tprompts: controlledPrompts,\n\tonPromptsChange,\n\tonSelect,\n\topen: controlledOpen,\n\tonOpenChange,\n\tchildren,\n}: PromptLibraryProps) {\n\tconst [internalPrompts, setInternalPrompts] = useState<Prompt[]>(\n\t\tcontrolledPrompts ?? [],\n\t);\n\n\tconst prompts = controlledPrompts ?? internalPrompts;\n\n\tconst [open, setOpen] = useControllableState(\n\t\tcontrolledOpen,\n\t\tfalse,\n\t\tonOpenChange,\n\t);\n\tconst [createDialogOpen, setCreateDialogOpen] = useState(false);\n\tconst [lastSelectedId, setLastSelectedId] = useState<string | null>(null);\n\n\t// Try to get PromptInput controller for integration\n\tconst promptInputController = useOptionalPromptInputController();\n\n\tconst selectPrompt = useCallback(\n\t\tasync (prompt: Prompt) => {\n\t\t\tsetLastSelectedId(prompt.id);\n\n\t\t\tif (promptInputController) {\n\t\t\t\t// Insert directly into PromptInput textarea\n\t\t\t\tpromptInputController.textInput.setInput(prompt.prompt);\n\t\t\t} else {\n\t\t\t\t// Fallback: copy to clipboard\n\t\t\t\ttry {\n\t\t\t\t\tawait navigator.clipboard.writeText(prompt.prompt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(\"Failed to copy to clipboard:\", err);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Close popover after selection\n\t\t\tsetOpen(false);\n\n\t\t\t// Call onSelect callback\n\t\t\tonSelect?.(prompt);\n\t\t},\n\t\t[promptInputController, setOpen, onSelect],\n\t);\n\n\tconst addCustom = useCallback(\n\t\t(prompt: Omit<Prompt, \"id\" | \"isCustom\">) => {\n\t\t\tconst newPrompt: Prompt = {\n\t\t\t\t...prompt,\n\t\t\t\tid: `custom-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`,\n\t\t\t\tisCustom: true,\n\t\t\t};\n\n\t\t\tif (controlledPrompts) {\n\t\t\t\tonPromptsChange?.([...controlledPrompts, newPrompt]);\n\t\t\t} else {\n\t\t\t\tsetInternalPrompts((prev) => [...prev, newPrompt]);\n\t\t\t}\n\t\t},\n\t\t[controlledPrompts, onPromptsChange],\n\t);\n\n\tconst removeCustom = useCallback(\n\t\t(id: string) => {\n\t\t\tif (controlledPrompts) {\n\t\t\t\tonPromptsChange?.(controlledPrompts.filter((p) => p.id !== id));\n\t\t\t} else {\n\t\t\t\tsetInternalPrompts((prev) => prev.filter((p) => p.id !== id));\n\t\t\t}\n\t\t},\n\t\t[controlledPrompts, onPromptsChange],\n\t);\n\n\tconst contextValue = useMemo<PromptLibraryContextValue>(\n\t\t() => ({\n\t\t\tprompts,\n\t\t\taddCustom,\n\t\t\tremoveCustom,\n\t\t\tselectPrompt,\n\t\t\tlastSelectedId,\n\t\t\topen,\n\t\t\tsetOpen,\n\t\t\tcreateDialogOpen,\n\t\t\tsetCreateDialogOpen,\n\t\t}),\n\t\t[\n\t\t\tprompts,\n\t\t\taddCustom,\n\t\t\tremoveCustom,\n\t\t\tselectPrompt,\n\t\t\tlastSelectedId,\n\t\t\topen,\n\t\t\tsetOpen,\n\t\t\tcreateDialogOpen,\n\t\t],\n\t);\n\n\treturn (\n\t\t<PromptLibraryContext.Provider value={contextValue}>\n\t\t\t<Popover onOpenChange={setOpen} open={open}>\n\t\t\t\t{children}\n\t\t\t</Popover>\n\t\t</PromptLibraryContext.Provider>\n\t);\n}\n\n// ============================================================================\n// Trigger Component\n// ============================================================================\n\nexport type PromptLibraryTriggerProps = ComponentProps<typeof Button> & {\n\t/** Custom label for the trigger button */\n\tlabel?: ReactNode;\n};\n\n/**\n * Button that opens the prompt library popover.\n */\nexport function PromptLibraryTrigger({\n\tclassName,\n\tlabel,\n\tchildren,\n\t...props\n}: PromptLibraryTriggerProps) {\n\treturn (\n\t\t<PopoverTrigger\n\t\t\trender={\n\t\t\t\t<Button\n\t\t\t\t\tclassName={cn(\"gap-1.5\", className)}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t{...props}\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t{children ?? (\n\t\t\t\t<>\n\t\t\t\t\t<HugeiconsIcon\n\t\t\t\t\t\tclassName=\"size-3.5\"\n\t\t\t\t\t\ticon={LibraryIcon}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t/>\n\t\t\t\t\t{label ?? \"Prompts\"}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</PopoverTrigger>\n\t);\n}\n\n// ============================================================================\n// Content Component\n// ============================================================================\n\nexport type PromptLibraryContentProps = ComponentProps<typeof PopoverContent>;\n\n/**\n * Popover content container for the prompt library list.\n */\nexport function PromptLibraryContent({\n\tclassName,\n\tchildren,\n\t...props\n}: PromptLibraryContentProps) {\n\treturn (\n\t\t<PopoverContent\n\t\t\talign=\"start\"\n\t\t\tclassName={cn(\"w-80 p-0\", className)}\n\t\t\tside=\"top\"\n\t\t\tsideOffset={8}\n\t\t\t{...props}\n\t\t>\n\t\t\t<Command className=\"rounded-lg\" data-slot=\"prompt-library-content\">\n\t\t\t\t{children}\n\t\t\t</Command>\n\t\t</PopoverContent>\n\t);\n}\n\n// ============================================================================\n// Search Component\n// ============================================================================\n\nexport type PromptLibrarySearchProps = ComponentProps<typeof CommandInput>;\n\n/**\n * Search input for filtering prompts.\n */\nexport function PromptLibrarySearch({\n\tplaceholder = \"Search prompts...\",\n\tclassName,\n\t...props\n}: PromptLibrarySearchProps) {\n\treturn (\n\t\t<CommandInput\n\t\t\tclassName={cn(className)}\n\t\t\tdata-slot=\"prompt-library-search\"\n\t\t\tplaceholder={placeholder}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\n// ============================================================================\n// List Component\n// ============================================================================\n\nexport type PromptLibraryListProps = ComponentProps<typeof CommandList>;\n\n/**\n * Scrollable list container for prompts.\n */\nexport function PromptLibraryList({\n\tclassName,\n\tchildren,\n\t...props\n}: PromptLibraryListProps) {\n\treturn (\n\t\t<CommandList\n\t\t\tclassName={cn(\"max-h-64\", className)}\n\t\t\tdata-slot=\"prompt-library-list\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</CommandList>\n\t);\n}\n\n// ============================================================================\n// Empty Component\n// ============================================================================\n\nexport type PromptLibraryEmptyProps = ComponentProps<typeof CommandEmpty>;\n\n/**\n * Empty state shown when no prompts match the search.\n */\nexport function PromptLibraryEmpty({\n\tchildren = \"No prompts found.\",\n\tclassName,\n\t...props\n}: PromptLibraryEmptyProps) {\n\treturn (\n\t\t<CommandEmpty\n\t\t\tclassName={cn(className)}\n\t\t\tdata-slot=\"prompt-library-empty\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</CommandEmpty>\n\t);\n}\n\n// ============================================================================\n// Group Component\n// ============================================================================\n\nexport type PromptLibraryGroupProps = ComponentProps<typeof CommandGroup>;\n\n/**\n * Group container for categorizing prompts.\n */\nexport function PromptLibraryGroup({\n\tclassName,\n\t...props\n}: PromptLibraryGroupProps) {\n\treturn (\n\t\t<CommandGroup\n\t\t\tclassName={cn(\n\t\t\t\t// Remove default rounding from all items\n\t\t\t\t\"**:[[cmdk-item]]:rounded-none\",\n\t\t\t\t// First child in group gets rounded top\n\t\t\t\t\"[&_[cmdk-group-items]>:first-child_[cmdk-item]]:rounded-t-md\",\n\t\t\t\t// Last child in group gets rounded bottom\n\t\t\t\t\"[&_[cmdk-group-items]>:last-child_[cmdk-item]]:rounded-b-md\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tdata-slot=\"prompt-library-group\"\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\n// ============================================================================\n// Separator Component\n// ============================================================================\n\nexport type PromptLibrarySeparatorProps = ComponentProps<\n\ttypeof CommandSeparator\n>;\n\n/**\n * Visual separator between prompt groups.\n */\nexport function PromptLibrarySeparator({\n\tclassName,\n\t...props\n}: PromptLibrarySeparatorProps) {\n\treturn (\n\t\t<CommandSeparator\n\t\t\tclassName={cn(className)}\n\t\t\tdata-slot=\"prompt-library-separator\"\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\n// ============================================================================\n// Item Component\n// ============================================================================\n\nexport type PromptLibraryItemProps = Omit<\n\tComponentProps<typeof CommandItem>,\n\t\"value\" | \"onSelect\"\n> & {\n\t/** The prompt data */\n\tprompt: Prompt;\n\t/** Disable hover card preview */\n\tdisablePreview?: boolean;\n};\n\n/**\n * Individual prompt item with click-to-select and optional hover preview.\n */\nexport function PromptLibraryItem({\n\tprompt,\n\tdisablePreview = false,\n\tclassName,\n\tchildren,\n\t...props\n}: PromptLibraryItemProps) {\n\tconst { selectPrompt, lastSelectedId } = usePromptLibrary();\n\tconst isLastSelected = lastSelectedId === prompt.id;\n\n\tconst handleSelect = () => {\n\t\tselectPrompt(prompt);\n\t};\n\n\tconst itemContent = (\n\t\t<CommandItem\n\t\t\tclassName={cn(\n\t\t\t\t\"group/prompt-item flex cursor-pointer items-start gap-3 py-2\",\n\t\t\t\tisLastSelected && \"bg-accent/50\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tdata-slot=\"prompt-library-item\"\n\t\t\tdata-state={isLastSelected ? \"selected\" : \"idle\"}\n\t\t\tonSelect={handleSelect}\n\t\t\tvalue={prompt.title}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"flex min-w-0 flex-1 flex-col gap-0.5\">\n\t\t\t\t{children ?? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PromptLibraryItemTitle>{prompt.title}</PromptLibraryItemTitle>\n\t\t\t\t\t\t<PromptLibraryItemDescription>\n\t\t\t\t\t\t\t{prompt.description}\n\t\t\t\t\t\t</PromptLibraryItemDescription>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</CommandItem>\n\t);\n\n\tif (disablePreview || !prompt.prompt) {\n\t\treturn itemContent;\n\t}\n\n\treturn (\n\t\t<PromptLibraryHoverCard prompt={prompt}>\n\t\t\t{itemContent}\n\t\t</PromptLibraryHoverCard>\n\t);\n}\n\n// ============================================================================\n// Item Title Component\n// ============================================================================\n\nexport type PromptLibraryItemTitleProps = ComponentProps<\"span\">;\n\n/**\n * Title text for a prompt item.\n */\nexport function PromptLibraryItemTitle({\n\tclassName,\n\t...props\n}: PromptLibraryItemTitleProps) {\n\treturn (\n\t\t<span\n\t\t\tclassName={cn(\"font-medium text-foreground text-xs\", className)}\n\t\t\tdata-slot=\"prompt-library-item-title\"\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\n// ============================================================================\n// Item Description Component\n// ============================================================================\n\nexport type PromptLibraryItemDescriptionProps = ComponentProps<\"span\">;\n\n/**\n * Description text for a prompt item.\n */\nexport function PromptLibraryItemDescription({\n\tclassName,\n\t...props\n}: PromptLibraryItemDescriptionProps) {\n\treturn (\n\t\t<span\n\t\t\tclassName={cn(\"line-clamp-2 text-muted-foreground text-xs\", className)}\n\t\t\tdata-slot=\"prompt-library-item-description\"\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\n// ============================================================================\n// Hover Card Component\n// ============================================================================\n\nexport interface PromptLibraryHoverCardProps {\n\t/** The prompt to preview */\n\tprompt: Prompt;\n\t/** The trigger element (prompt item) */\n\tchildren: ReactNode;\n}\n\n/**\n * Hover card that shows the full prompt content on hover.\n */\nexport function PromptLibraryHoverCard({\n\tprompt,\n\tchildren,\n}: PromptLibraryHoverCardProps) {\n\treturn (\n\t\t<HoverCard>\n\t\t\t<HoverCardTrigger closeDelay={100} delay={300}>\n\t\t\t\t{children}\n\t\t\t</HoverCardTrigger>\n\t\t\t<HoverCardContent\n\t\t\t\talign=\"start\"\n\t\t\t\tclassName=\"w-80\"\n\t\t\t\tdata-slot=\"prompt-library-hover-card\"\n\t\t\t\tside=\"right\"\n\t\t\t\tsideOffset={8}\n\t\t\t>\n\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t<span className=\"font-medium text-sm\">{prompt.title}</span>\n\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t{prompt.description}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t{prompt.prompt && (\n\t\t\t\t\t\t<div className=\"rounded-md bg-muted/50 p-2\">\n\t\t\t\t\t\t\t<p className=\"line-clamp-6 whitespace-pre-wrap text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t{prompt.prompt}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{prompt.category && (\n\t\t\t\t\t\t<span className=\"text-[0.625rem] text-muted-foreground\">\n\t\t\t\t\t\t\tCategory: {prompt.category}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t{prompt.isCustom && (\n\t\t\t\t\t\t<span className=\"text-[0.625rem] text-muted-foreground\">\n\t\t\t\t\t\t\tCustom prompt\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</HoverCardContent>\n\t\t</HoverCard>\n\t);\n}\n\n// ============================================================================\n// Footer Component\n// ============================================================================\n\nexport type PromptLibraryFooterProps = ComponentProps<\"div\">;\n\n/**\n * Footer container that stays fixed at the bottom of the popover.\n * Use this to place the create trigger outside the scrollable list.\n */\nexport function PromptLibraryFooter({\n\tclassName,\n\tchildren,\n\t...props\n}: PromptLibraryFooterProps) {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\"border-t p-1\", className)}\n\t\t\tdata-slot=\"prompt-library-footer\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\n// ============================================================================\n// Create Trigger Component\n// ============================================================================\n\nexport type PromptLibraryCreateTriggerProps = Omit<\n\tComponentProps<typeof CommandItem>,\n\t\"onSelect\"\n> & {\n\t/** Custom label for the create button */\n\tlabel?: ReactNode;\n};\n\n/**\n * Button that opens the create prompt dialog.\n */\nexport function PromptLibraryCreateTrigger({\n\tlabel = \"New Prompt\",\n\tclassName,\n\tchildren,\n\t...props\n}: PromptLibraryCreateTriggerProps) {\n\tconst { setCreateDialogOpen, setOpen } = usePromptLibrary();\n\n\tconst handleSelect = () => {\n\t\tsetOpen(false);\n\t\tsetCreateDialogOpen(true);\n\t};\n\n\treturn (\n\t\t<CommandItem\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-pointer items-center gap-2 text-muted-foreground\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tdata-slot=\"prompt-library-create-trigger\"\n\t\t\tonSelect={handleSelect}\n\t\t\tvalue=\"__new_prompt__\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{children ?? (\n\t\t\t\t<>\n\t\t\t\t\t<HugeiconsIcon\n\t\t\t\t\t\tclassName=\"size-3.5\"\n\t\t\t\t\t\ticon={PlusSignIcon}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t/>\n\t\t\t\t\t{label}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</CommandItem>\n\t);\n}\n\n// ============================================================================\n// Create Dialog Component\n// ============================================================================\n\nexport type PromptLibraryCreateDialogProps = Omit<\n\tComponentProps<typeof Dialog>,\n\t\"open\" | \"onOpenChange\" | \"children\"\n> & {\n\t/** Dialog title */\n\ttitle?: DialogTitleProps[\"children\"];\n\t/** Dialog description */\n\tdescription?: DialogDescriptionProps[\"children\"];\n\t/** Custom form content to replace the default form */\n\tchildren?: ReactNode;\n};\n\n/**\n * Modal dialog for creating custom prompts.\n */\nexport function PromptLibraryCreateDialog({\n\ttitle = \"Create Prompt\",\n\tdescription = \"Create a custom prompt template for quick access.\",\n\tchildren,\n\t...props\n}: PromptLibraryCreateDialogProps) {\n\tconst { createDialogOpen, setCreateDialogOpen, addCustom } =\n\t\tusePromptLibrary();\n\tconst [formTitle, setFormTitle] = useState(\"\");\n\tconst [formDescription, setFormDescription] = useState(\"\");\n\tconst [formPrompt, setFormPrompt] = useState(\"\");\n\tconst [formCategory, setFormCategory] = useState(\"\");\n\n\tconst handleSubmit = (e: React.FormEvent) => {\n\t\te.preventDefault();\n\n\t\tif (!(formTitle.trim() && formDescription.trim() && formPrompt.trim())) {\n\t\t\treturn;\n\t\t}\n\n\t\taddCustom({\n\t\t\ttitle: formTitle.trim(),\n\t\t\tdescription: formDescription.trim(),\n\t\t\tprompt: formPrompt.trim(),\n\t\t\tcategory: formCategory.trim() || undefined,\n\t\t});\n\n\t\t// Reset form\n\t\tsetFormTitle(\"\");\n\t\tsetFormDescription(\"\");\n\t\tsetFormPrompt(\"\");\n\t\tsetFormCategory(\"\");\n\t\tsetCreateDialogOpen(false);\n\t};\n\n\tconst handleOpenChange = (open: boolean) => {\n\t\tsetCreateDialogOpen(open);\n\t\tif (!open) {\n\t\t\t// Reset form when closing\n\t\t\tsetFormTitle(\"\");\n\t\t\tsetFormDescription(\"\");\n\t\t\tsetFormPrompt(\"\");\n\t\t\tsetFormCategory(\"\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\tdata-slot=\"prompt-library-create-dialog\"\n\t\t\tonOpenChange={handleOpenChange}\n\t\t\topen={createDialogOpen}\n\t\t\t{...props}\n\t\t>\n\t\t\t<DialogContent className=\"sm:max-w-md\">\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>{title}</DialogTitle>\n\t\t\t\t\t<DialogDescription>{description}</DialogDescription>\n\t\t\t\t</DialogHeader>\n\t\t\t\t{children ?? (\n\t\t\t\t\t<form className=\"flex flex-col gap-4\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t<label className=\"font-medium text-xs\" htmlFor=\"prompt-title\">\n\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"prompt-title\"\n\t\t\t\t\t\t\t\tonChange={(e) => setFormTitle(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"e.g., Code Review\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tvalue={formTitle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tclassName=\"font-medium text-xs\"\n\t\t\t\t\t\t\t\thtmlFor=\"prompt-description\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"prompt-description\"\n\t\t\t\t\t\t\t\tonChange={(e) => setFormDescription(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"e.g., Review code for best practices\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tvalue={formDescription}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t<label className=\"font-medium text-xs\" htmlFor=\"prompt-content\">\n\t\t\t\t\t\t\t\tPrompt\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tclassName=\"min-h-24 resize-none\"\n\t\t\t\t\t\t\t\tid=\"prompt-content\"\n\t\t\t\t\t\t\t\tonChange={(e) => setFormPrompt(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Enter the prompt text...\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tvalue={formPrompt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t<label className=\"font-medium text-xs\" htmlFor=\"prompt-category\">\n\t\t\t\t\t\t\t\tCategory (optional)\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"prompt-category\"\n\t\t\t\t\t\t\t\tonChange={(e) => setFormCategory(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"e.g., Development\"\n\t\t\t\t\t\t\t\tvalue={formCategory}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t\t<DialogClose render={<Button type=\"button\" variant=\"outline\" />}>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</DialogClose>\n\t\t\t\t\t\t\t<Button type=\"submit\">Create</Button>\n\t\t\t\t\t\t</DialogFooter>\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\n// ============================================================================\n// Compound Export\n// ============================================================================\n\nexport const PromptLibraryWidget = Object.assign(PromptLibrary, {\n\tTrigger: PromptLibraryTrigger,\n\tContent: PromptLibraryContent,\n\tSearch: PromptLibrarySearch,\n\tList: PromptLibraryList,\n\tEmpty: PromptLibraryEmpty,\n\tGroup: PromptLibraryGroup,\n\tSeparator: PromptLibrarySeparator,\n\tItem: PromptLibraryItem,\n\tItemTitle: PromptLibraryItemTitle,\n\tItemDescription: PromptLibraryItemDescription,\n\tHoverCard: PromptLibraryHoverCard,\n\tFooter: PromptLibraryFooter,\n\tCreateTrigger: PromptLibraryCreateTrigger,\n\tCreateDialog: PromptLibraryCreateDialog,\n});\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}